---
page_title: "cloudflare_zero_trust_gateway_settings Resource - Cloudflare"
subcategory: ""
description: |-
  
---

# cloudflare_zero_trust_gateway_settings (Resource)



## Example Usage

```terraform
resource "cloudflare_zero_trust_gateway_settings" "example_zero_trust_gateway_settings" {
  account_id = "699d98642c564d2e855e9661899b7252"
  settings = {
    activity_log = {
      enabled = true
    }
    antivirus = {
      enabled_download_phase = false
      enabled_upload_phase = false
      fail_closed = false
      notification_settings = {
        enabled = true
        include_context = true
        msg = "msg"
        support_url = "support_url"
      }
    }
    block_page = {
      background_color = "background_color"
      enabled = true
      footer_text = "--footer--"
      header_text = "--header--"
      include_context = true
      logo_path = "https://logos.com/a.png"
      mailto_address = "admin@example.com"
      mailto_subject = "Blocked User Inquiry"
      mode = ""
      name = "Cloudflare"
      suppress_footer = false
      target_uri = "https://example.com"
    }
    body_scanning = {
      inspection_mode = "deep"
    }
    browser_isolation = {
      non_identity_enabled = true
      url_browser_isolation_enabled = true
    }
    certificate = {
      id = "d1b364c5-1311-466e-a194-f0e943e0799f"
    }
    custom_certificate = {
      enabled = true
      id = "d1b364c5-1311-466e-a194-f0e943e0799f"
    }
    extended_email_matching = {
      enabled = true
    }
    fips = {
      tls = true
    }
    host_selector = {
      enabled = false
    }
    inspection = {
      mode = "static"
    }
    protocol_detection = {
      enabled = true
    }
    sandbox = {
      enabled = true
      fallback_action = "allow"
    }
    tls_decrypt = {
      enabled = true
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `account_id` (String)

### Optional

- `settings` (Attributes) Specify account settings. (see [below for nested schema](#nestedatt--settings))

### Read-Only

- `created_at` (String)
- `id` (String) The ID of this resource.
- `updated_at` (String)

<a id="nestedatt--settings"></a>
### Nested Schema for `settings`

Optional:

- `activity_log` (Attributes) Specify activity log settings. (see [below for nested schema](#nestedatt--settings--activity_log))
- `antivirus` (Attributes) Specify anti-virus settings. (see [below for nested schema](#nestedatt--settings--antivirus))
- `block_page` (Attributes) Specify block page layout settings. (see [below for nested schema](#nestedatt--settings--block_page))
- `body_scanning` (Attributes) Specify the DLP inspection mode. (see [below for nested schema](#nestedatt--settings--body_scanning))
- `browser_isolation` (Attributes) Specify Clientless Browser Isolation settings. (see [below for nested schema](#nestedatt--settings--browser_isolation))
- `certificate` (Attributes) Specify certificate settings for Gateway TLS interception. If unset, the Cloudflare Root CA handles interception. (see [below for nested schema](#nestedatt--settings--certificate))
- `custom_certificate` (Attributes, Deprecated) Specify custom certificate settings for BYO-PKI. This field is deprecated; use `certificate` instead. (see [below for nested schema](#nestedatt--settings--custom_certificate))
- `extended_email_matching` (Attributes) Configures user email settings for firewall policies. When you enable this, the system standardizes email addresses in the identity portion of the rule to match extended email variants in firewall policies. When you disable this setting, the system matches email addresses exactly as you provide them. Enable this setting if your email uses `.` or `+` modifiers. (see [below for nested schema](#nestedatt--settings--extended_email_matching))
- `fips` (Attributes) Specify FIPS settings. (see [below for nested schema](#nestedatt--settings--fips))
- `host_selector` (Attributes) Enable host selection in egress policies. (see [below for nested schema](#nestedatt--settings--host_selector))
- `inspection` (Attributes) Define the proxy inspection mode. (see [below for nested schema](#nestedatt--settings--inspection))
- `protocol_detection` (Attributes) Specify whether to detect protocols from the initial bytes of client traffic. (see [below for nested schema](#nestedatt--settings--protocol_detection))
- `sandbox` (Attributes) Specify whether to enable the sandbox. (see [below for nested schema](#nestedatt--settings--sandbox))
- `tls_decrypt` (Attributes) Specify whether to inspect encrypted HTTP traffic. (see [below for nested schema](#nestedatt--settings--tls_decrypt))

<a id="nestedatt--settings--activity_log"></a>
### Nested Schema for `settings.activity_log`

Optional:

- `enabled` (Boolean) Specify whether to log activity.


<a id="nestedatt--settings--antivirus"></a>
### Nested Schema for `settings.antivirus`

Optional:

- `enabled_download_phase` (Boolean) Specify whether to enable anti-virus scanning on downloads.
- `enabled_upload_phase` (Boolean) Specify whether to enable anti-virus scanning on uploads.
- `fail_closed` (Boolean) Specify whether to block requests for unscannable files.
- `notification_settings` (Attributes) Configure the message the user's device shows during an antivirus scan. (see [below for nested schema](#nestedatt--settings--antivirus--notification_settings))

<a id="nestedatt--settings--antivirus--notification_settings"></a>
### Nested Schema for `settings.antivirus.notification_settings`

Optional:

- `enabled` (Boolean) Specify whether to enable notifications.
- `include_context` (Boolean) Specify whether to include context information as query parameters.
- `msg` (String) Specify the message to show in the notification.
- `support_url` (String) Specify a URL that directs users to more information. If unset, the notification opens a block page.



<a id="nestedatt--settings--block_page"></a>
### Nested Schema for `settings.block_page`

Optional:

- `background_color` (String) Specify the block page background color in `#rrggbb` format when the mode is customized_block_page.
- `enabled` (Boolean) Specify whether to enable the custom block page.
- `footer_text` (String) Specify the block page footer text when the mode is customized_block_page.
- `header_text` (String) Specify the block page header text when the mode is customized_block_page.
- `include_context` (Boolean) Specify whether to append context to target_uri as query parameters. This applies only when the mode is redirect_uri.
- `logo_path` (String) Specify the full URL to the logo file when the mode is customized_block_page.
- `mailto_address` (String) Specify the admin email for users to contact when the mode is customized_block_page.
- `mailto_subject` (String) Specify the subject line for emails created from the block page when the mode is customized_block_page.
- `mode` (String) Specify whether to redirect users to a Cloudflare-hosted block page or a customer-provided URI.
Available values: "", "customized_block_page", "redirect_uri".
- `name` (String) Specify the block page title when the mode is customized_block_page.
- `read_only` (Boolean) Indicate that this setting was shared via the Orgs API and read only for the current account.
- `source_account` (String) Indicate the account tag of the account that shared this setting.
- `suppress_footer` (Boolean) Specify whether to suppress detailed information at the bottom of the block page when the mode is customized_block_page.
- `target_uri` (String) Specify the URI to redirect users to when the mode is redirect_uri.
- `version` (Number) Indicate the version number of the setting.


<a id="nestedatt--settings--body_scanning"></a>
### Nested Schema for `settings.body_scanning`

Optional:

- `inspection_mode` (String) Specify the inspection mode as either `deep` or `shallow`.
Available values: "deep", "shallow".


<a id="nestedatt--settings--browser_isolation"></a>
### Nested Schema for `settings.browser_isolation`

Optional:

- `non_identity_enabled` (Boolean) Specify whether to enable non-identity onramp support for Browser Isolation.
- `url_browser_isolation_enabled` (Boolean) Specify whether to enable Clientless Browser Isolation.


<a id="nestedatt--settings--certificate"></a>
### Nested Schema for `settings.certificate`

Required:

- `id` (String) Specify the UUID of the certificate used for interception. Ensure the certificate is available at the edge(previously called 'active'). A nil UUID directs Cloudflare to use the Root CA.


<a id="nestedatt--settings--custom_certificate"></a>
### Nested Schema for `settings.custom_certificate`

Required:

- `enabled` (Boolean) Specify whether to enable a custom certificate authority for signing Gateway traffic.

Optional:

- `binding_status` (String) Indicate the internal certificate status.
- `id` (String) Specify the UUID of the certificate (ID from MTLS certificate store).
- `updated_at` (String)


<a id="nestedatt--settings--extended_email_matching"></a>
### Nested Schema for `settings.extended_email_matching`

Optional:

- `enabled` (Boolean) Specify whether to match all variants of user emails (with + or . modifiers) used as criteria in Firewall policies.
- `read_only` (Boolean) Indicate that this setting was shared via the Orgs API and read only for the current account.
- `source_account` (String) Indicate the account tag of the account that shared this setting.
- `version` (Number) Indicate the version number of the setting.


<a id="nestedatt--settings--fips"></a>
### Nested Schema for `settings.fips`

Optional:

- `tls` (Boolean) Enforce cipher suites and TLS versions compliant with FIPS 140-2.


<a id="nestedatt--settings--host_selector"></a>
### Nested Schema for `settings.host_selector`

Optional:

- `enabled` (Boolean) Specify whether to enable filtering via hosts for egress policies.


<a id="nestedatt--settings--inspection"></a>
### Nested Schema for `settings.inspection`

Optional:

- `mode` (String) Define the proxy inspection mode.   1. static: Gateway applies static inspection to HTTP on TCP(80). With TLS decryption on, Gateway inspects HTTPS traffic on TCP(443) and UDP(443).   2. dynamic: Gateway applies protocol detection to inspect HTTP and HTTPS traffic on any port. TLS decryption must remain on to inspect HTTPS traffic.
Available values: "static", "dynamic".


<a id="nestedatt--settings--protocol_detection"></a>
### Nested Schema for `settings.protocol_detection`

Optional:

- `enabled` (Boolean) Specify whether to detect protocols from the initial bytes of client traffic.


<a id="nestedatt--settings--sandbox"></a>
### Nested Schema for `settings.sandbox`

Optional:

- `enabled` (Boolean) Specify whether to enable the sandbox.
- `fallback_action` (String) Specify the action to take when the system cannot scan the file.
Available values: "allow", "block".


<a id="nestedatt--settings--tls_decrypt"></a>
### Nested Schema for `settings.tls_decrypt`

Optional:

- `enabled` (Boolean) Specify whether to inspect encrypted HTTP traffic.

## Import

Import is supported using the following syntax:

```shell
$ terraform import cloudflare_zero_trust_gateway_settings.example '<account_id>'
```
